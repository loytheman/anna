{"version":3,"file":"portfolio.utils.js","sourceRoot":"","sources":["../../src/utils/portfolio.utils.ts"],"names":[],"mappings":";;;AAAA,4CAA4C;AAI5C;;;;;GAKG;AACI,IAAM,iBAAiB,GAAG,UAAC,UAAkB,EAAE,QAAgB;IACpE,OAAO,CAAC,QAAQ,GAAG,UAAU,CAAC,GAAG,UAAU,GAAG,GAAG,CAAC;AACpD,CAAC,CAAA;AAFY,QAAA,iBAAiB,qBAE7B;AAED;;;;;EAKE;AACK,IAAM,oBAAoB,GAAG,UAAC,KAAa,EAAE,GAAW,EAAE,OAAe,EAAE,IAAqB;IAArB,qBAAA,EAAA,YAAqB;IACrG,IAAM,MAAM,GAAG,IAAI,CAAA,CAAC,CAAC,KAAK,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,KAAK,CAAC;IAC/C,OAAO,CAAC,MAAM,GAAG,KAAK,CAAC,GAAG,OAAO,CAAC;AACpC,CAAC,CAAA;AAHY,QAAA,oBAAoB,wBAGhC;AAGM,IAAM,YAAY,GAAG,UAAC,SAAqB;IAChD,OAAO,SAAS,CAAC,MAAM,CAAC,UAAC,GAAG,EAAE,QAAQ;QAClC,IAAM,MAAM,GAAG,QAAQ,CAAC,QAAQ,GAAG,QAAQ,CAAC,KAAK,CAAC;QAClD,IAAM,GAAG,GAAG,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC,IAAA,4BAAoB,EAAC,QAAQ,CAAC,KAAK,EAAE,QAAQ,CAAC,SAAS,EAAE,MAAM,EAAE,QAAQ,CAAC,MAAM,KAAK,wBAAW,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC5I,OAAO,GAAG,GAAG,GAAG,CAAC;IACrB,CAAC,EAAE,CAAC,CAAC,CAAC;AAER,CAAC,CAAC;AAPW,QAAA,YAAY,gBAOvB","sourcesContent":["import { OrderAction } from \"../interfaces\";\n\nimport { Position } from \"../interfaces\";\n\n/**\n * Get Profit percentage gained\n * https://www.investopedia.com/ask/answers/how-do-you-calculate-percentage-gain-or-loss-investment/\n * @param startPrice \n * @param endPrice \n */\nexport const getPercentageGain = (startPrice: number, endPrice: number) => {\n  return (endPrice - startPrice) / startPrice * 100;\n}\n\n/**\n* GetTotalProfitAmount, from start and end\n* @param start \n* @param end \n* @param capital \n*/\nexport const getTotalProfitAmount = (start: number, end: number, capital: number, sell: boolean = false): number => {\n  const profit = sell? start - end : end - start;\n  return (profit / start) * capital;\n}\n\n\nexport const calculatePnl = (positions: Position[]) => {\n  return positions.reduce((acc, position) => {\n      const amount = position.quantity * position.price;\n      const pnl = position.lastPrice ? getTotalProfitAmount(position.price, position.lastPrice, amount, position.action === OrderAction.SELL) : 0;\n      return acc + pnl;\n  }, 0);\n\n};"]}
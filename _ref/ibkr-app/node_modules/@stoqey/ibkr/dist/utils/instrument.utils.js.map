{"version":3,"file":"instrument.utils.js","sourceRoot":"","sources":["../../src/utils/instrument.utils.ts"],"names":[],"mappings":";;;AAGO,IAAM,YAAY,GAAG,UAAC,QAA+B;IACxD,IAAI,CAAC,QAAQ,EAAE,CAAC;QACZ,OAAO,EAAE,CAAC;IACd,CAAC;IACD,IAAM,aAAa,GAAG,CAAA,QAAQ,aAAR,QAAQ,uBAAR,QAAQ,CAAE,aAAa,MAAI,QAAQ,aAAR,QAAQ,uBAAR,QAAQ,CAAE,4BAA4B,CAAA,CAAC;IACxF,OAAO,UAAG,QAAQ,CAAC,MAAM,SAAG,CAAC,CAAC,CAAA,QAAQ,aAAR,QAAQ,uBAAR,QAAQ,CAAE,OAAO,CAAA,CAAA,CAAC,CAAC,WAAI,QAAQ,CAAC,OAAO,CAAE,CAAC,CAAC,CAAC,EAAE,SAAG,CAAC,CAAC,aAAa,CAAA,CAAC,CAAC,WAAI,aAAa,CAAE,CAAA,CAAC,CAAC,EAAE,CAAE,CAAC;AAC9H,CAAC,CAAC;AANW,QAAA,YAAY,gBAMvB","sourcesContent":["import type { Contract, WhatToShow } from \"@stoqey/ib\";\nimport type { Instrument, MarketData } from \"../interfaces\";\n\nexport const getSymbolKey = (contract: Contract | Instrument): string => {\n    if (!contract) {\n        return \"\";\n    }\n    const lastTradeDate = contract?.lastTradeDate || contract?.lastTradeDateOrContractMonth;\n    return `${contract.symbol}${!!contract?.secType? `-${contract.secType}` : \"\"}${!!lastTradeDate? `-${lastTradeDate}`: ''}`;\n};\n\nexport interface GetHistoricalData {\n    instrument: Instrument;\n    startDate: Date;\n    endDate?: Date;\n    whatToShow?: WhatToShow;\n\n    // options\n    saveToDb?: (mkd: MarketData[]) => Promise<void>;\n    calculate?: boolean;\n}"]}
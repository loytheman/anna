"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.awaitP = awaitP;
/**
 * Async await wrapper for easy error handling
 * @param { Promise } promise
 * @param { Object= } errorExt - Additional Information you can pass to the err object
 * @return {[ Promise.resolve, error ]}
 *
     let err, user, savedTask;

     [ user, err ] = await awaitTo(UserModel.findById(1));
     if(!user) return cb('No user found');

     [ savedTask, err ] = await awaitTo(TaskModel({userId: user.id, name: 'Demo Task'}));
     if(err) return cb('Error occurred while saving task');

 */
function awaitP(promise, errorExt) {
    return promise
        .then(function (data) { return [data, null]; })
        .catch(function (err) {
        if (errorExt) {
            Object.assign(errorExt, err);
        }
        return [undefined, err];
    });
}
exports.default = awaitP;
//# sourceMappingURL=awaitP.js.map